config:
  plugins:
    publish-metrics:
      - type: 'open-telemetry'
        serviceName: 'artillery-load-test'
        # Set attributes for all resources (metrics and traces):
        resourceAttributes:
          custom-attribute: 'testId:browser-load-test-new'
        metrics:
          endpoint: 'http://54.227.52.181:14269/metrics'
        traces:
          endpoint: 'http://54.227.52.181:4318/v1/traces'
      - type: prometheus
        pushgateway: 'http://54.227.52.181:9091'
        tags:
          - 'testId:browser-load-test-new'
          - 'type:loadtest'
  target: "https://www.artillery.io"
  phases:
    - arrivalRate: 1
      duration: 10
      maxVusers: 2
  engines:
    playwright:
      trace: true
  processor: ./flows.js
scenarios:
  - name: "check_out_core_concepts_scenario"
    engine: playwright
    flowFunction: "checkOutArtilleryCoreConceptsFlow"
